<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Tatani - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â–∏</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω -->
  <div class="screen active">
    <img class="avatar" src="assets/avatar-tatani.jpeg" alt="–¢–∞—Ç–∞–Ω–∏–∫"/>
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Tatani!</h1>
    <h2>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â–∏</h2>
    <p>–ó–¥–µ—Å—å –ª—é–¥–∏ –ø–æ–º–æ–≥–∞—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥—É —Ä–µ—à–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏</p>
    
    <div id="auth-info" style="margin: 20px 0;">
      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–¥–µ—Å—å -->
    </div>
    
    <div style="margin: 30px 0;">
      <button onclick="goToAuth()" style="margin: 10px; padding: 15px 30px; font-size: 18px; background: #4CAF50;">
        üîë –í–æ–π—Ç–∏ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
      </button>
      <br>
      <button onclick="showGuestOptions()" style="margin: 10px; padding: 15px 30px; font-size: 16px; background: #2196F3;">
        üëÄ –ü—Ä–æ—Å–º–æ—Ç—Ä –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
      </button>
    </div>
    
    <div id="guest-options" style="display: none; margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 10px;">
      <p>–í—ã –º–æ–∂–µ—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</p>
      <button onclick="goToClient()" style="margin: 5px;">üôã‚Äç‚ôÄÔ∏è –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª–∏–µ–Ω—Ç–∞</button>
      <button onclick="goToVolunteer()" style="margin: 5px;">ü§ù –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–æ–ª–æ–Ω—Ç—ë—Ä–∞</button>
    </div>
    
    <p style="font-size: 14px; color: #666; margin-top: 40px;">
      –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤–∑–∞–∏–º–æ–ø–æ–º–æ—â–∏ –º–µ–∂–¥—É –ª—é–¥—å–º–∏
    </p>
  </div>

  <script>
    function goToAuth() {
      window.location.href = 'login.html';
    }
    
    function goToClient() {
      window.location.href = 'client.html';
    }
    
    function goToVolunteer() {
      window.location.href = 'volunteer.html';
    }
    
    function showGuestOptions() {
      const options = document.getElementById('guest-options');
      options.style.display = options.style.display === 'none' ? 'block' : 'none';
    }
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
    document.addEventListener('DOMContentLoaded', function() {
      const authInfo = document.getElementById('auth-info');
      
      // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
      const session = localStorage.getItem('userSession');
      if (session) {
        const sessionData = JSON.parse(session);
        const userTypeText = sessionData.userType === 'client' ? '–∫–ª–∏–µ–Ω—Ç' : '–≤–æ–ª–æ–Ω—Ç—ë—Ä';
        
        authInfo.innerHTML = `
          <div style="background: #e8f5e8; padding: 15px; border-radius: 10px; border: 1px solid #4CAF50;">
            <p style="margin: 0; color: #2e7d32;">
              –í—ã –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã –∫–∞–∫ <strong>${userTypeText}</strong><br>
              Email: ${sessionData.email}
            </p>
            <button onclick="goToCabinet()" style="margin: 10px 5px 0 0; padding: 8px 16px; background: #4CAF50; color: white; border: none; border-radius: 5px;">
              üè† –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç
            </button>
            <button onclick="logout()" style="margin: 10px 0 0 5px; padding: 8px 16px; background: #f44336; color: white; border: none; border-radius: 5px;">
              üö™ –í—ã–π—Ç–∏
            </button>
          </div>
        `;
      }
    });
    
    function goToCabinet() {
      const session = JSON.parse(localStorage.getItem('userSession'));
      if (session.userType === 'client') {
        window.location.href = 'client.html';
      } else {
        window.location.href = 'volunteer.html';
      }
    }
    
    function logout() {
      if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
        localStorage.removeItem('userSession');
        localStorage.removeItem('rememberMe');
        location.reload();
      }
    }
  </script>

  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JS —Ñ–∞–π–ª–æ–≤ -->
  <script src="js/storage.js"></script>
  <script src="js/auth.js"></script>
</body>
</html>